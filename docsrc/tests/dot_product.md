Vector Dot Product Workload {#dot_product}
========================

## Operation Description

### Summary
This operation is defined as:

```cpp
c = op(A, B)
```

where

```cpp
op(A, B) = A . B
```

and operation `.` is the standard vector dot product.

### Operation Parameters

Input: `2` parameters

| Parameter | Description |
|-|-|
| `0` | `A` is a vector with `n` components. |
| `1` | `B` is a vector with `n` components. |

### Result:

Output: `1` output

| Output | Description |
|-|-|
| `0` | `c` is a scalar. It is the result of dot product between `A` and `B`. |

### Details

If `Z[i]` denotes the element at component `i` in vector `Z`, then, the standard vector dot product operation is defined as:

```
c = A[0] * B[0] + A[1] * B[1] + ... + A[n - 1] * B[n - 1]
```

## Workloads

This document applies to the following workloads:

```cpp
// From hebench/api_bridge/types.h

hebench:APIBridge::Workload::DotProduct
```

### Workload Parameters

Required workload parameters: `1`

| Index | Name | Type | Description |
|-|-|-|-|
| `0` | `n` | `uint64_t` | Number of components in a vector. |

Above parameters are required for the workload in the specified order. A back-end must specify, at least, a set of default arguments for these parameters.

Back-ends can require extra parameters beyond the base requirements. If a back-end requires extra parameters, these must have default values in every set of default arguments for the workload parameters.

## Categories
This workload supports the following categories:

```cpp
hebench:APIBridge::Category::Latency
hebench:APIBridge::Category::Offline
```

### Category Parameters
#### Latency
See `hebench::APIBridge::CategoryParams::latency`.

#### Offline
See `hebench::APIBridge::CategoryParams::offline`.

Value ranges for elements in `CategoryParams::offline::data_count`. Default value is used for elements that take any sample size, but sample size of `0` is specified by Test harness.

| Parameter | Lower bound | Upper bound | Default |
|-|-|-|-|
| `0` | `1` | none |`100` | 
| `1` | `1` | none |`100` | 

## Data Type

This workload is defined for the following data types:

```cpp
hebench::APIBridge::DataType::Int32
hebench::APIBridge::DataType::Int64
hebench::APIBridge::DataType::Float32
hebench::APIBridge::DataType::Float64
```

## Data Layout

### 1. Vectors
All scalar elements in a vector with elements of type `T` (where `T` is any of the supported types) lie contiguous in memory.

For example, given the following vector `A` with `n = 3` components:

```cpp
A = [ a0, a1, a2 ]
```

The elements will be stored in memory as:

| Offset: | 0 | 1 | 2 |
|-|-|-|-|
|A| `a0`  | `a1`  | `a2`  |

Back-ends should expect this layout for their raw, clear text inputs, and must generate this layout for their decoded outputs.

#### Notes
If several vectors will be pointed at by a single pointer, consecutive vectors will follow each other in memory.

### 2. Scalars
All scalars will be represented as vectors with a single element.

## Dataset
All data for vectors used as input for this workload is generated by Test Harness during workload initialization. There is no standard dataset.

Vector elements are extracted from a pseudo-random normal distribution of mean `0` and standard deviation of `10`: `n(0, 10)`.